<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Data_Sample1</title>
    <!-- Activate IE9 document mode, if available. -->
    <!-- If missing, the WebBrowser control on Windows runs in default IE8 mode which is not supported by JSBridge. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Defined iOS viewport -->
    <!-- If missing, the UIWebView control on iOS zooms out the web page and allows the pinch zoom. -->
    <meta
      name="viewport"
      content="initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"
    />
    <!-- JSBridge must be explicitly included, otherwise the bridge is not accessible from Javascript. -->
    <script type="text/javascript" src="JSBridge.js"></script>
  </head>

  <body>


    <script>

  function setBU(){

    MobileCRM.UI.EntityForm.requestObject(
	function (entityForm) {
		/// <param name="entityForm" type="MobileCRM.UI.EntityForm"/>
		// Get the MobileCRM.DynamicEntity which is being edited on this form
		var entity = entityForm.entity;
    let bu = entity.properties.new_businessunit;

    MobileCRM.Configuration.requestObject(
	function (config) {
		/// <param name="config" type="MobileCRM.Configuration">/<param>
        let currentBU = config.settings.businessUnitId

    		// we have done no changes, thus return false to disallow sending the changes back to C#.
		return false;
	},
	function (err) {
		/// <param name="err" type="String">/<param>
		MobileCRM.bridge.alert("An error occurred: " + err);
	},
	null
);


		return true;
	},
	function (err) {
		MobileCRM.bridge.alert("An error occurred: " + err);
	},
	null
);
  }    
  


    </script>
  </body>
</html>
